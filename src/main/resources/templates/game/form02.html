<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Graj dalej!</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/styleForm.css}"/>
</head>
<body>


<div class="container">


    <div class="login" th:switch="${user.userName}">
        <span th:case="'Anonymous'">
            <a href="../user/login"> Zaloguj </a> &nbsp; || &nbsp;
            <a href="../user/register"> Zarejestruj się </a>
        </span>
        <span th:case="null">
            <a href="../user/login"> Zaloguj </a> &nbsp; || &nbsp;
            <a href="../user/register"> Zarejestruj się </a>
        </span>
        <span th:case="*">
            <span th:text="${user.userName}+ '&nbsp;||&nbsp;'" th:remove="tag"></span>
            <a href="../user/logout"> (Wyloguj) </a>
        </span>
    </div>

    <div class="main">

        <h1>GEO-QUIZ: Państwa - Stolice</h1>
        <h2>Stolice danego państwa:</h2>

        <form action="#" th:action="@{/game/form}" th:object="${countryForm}" method="post">
            <table class="form">
                <tr>
                    <th>PAŃSTWO:</th>
                    <th>STOLICA:</th>
                    <th>TWOJA ODP:</th>
                    <th>POPRAWNIE:</th>
                </tr>
                <th:block th:each="country, itemStat : *{formCountriesDTO}">
                    <tr>
                        <td th:text="${country.countryName}"></td>
                        <td th:text="${country.capital}"></td>
                        <!--<td th:text="*{formCountriesDTO[__${itemStat.index}__].capital}" type="text"></td>-->
                        <td th:text="*{formCountriesDTO[__${itemStat.index}__].guessedCapital}"></td>
                        <td th:text="*{formCountriesDTO[__${itemStat.index}__].result}"></td>
                        <!--https://www.baeldung.com/thymeleaf-list-->
                    </tr>
                </th:block>

            </table>

        </form>

        <div class="center margin-top">
            <p th:text="'Liczba punktów: '+ ${game.amountOfPoints} + '&nbsp;&nbsp;|&nbsp;&nbsp;Liczba prób:'+${game.amountOfAttempts}"></p>
        </div>
        <div class="options margin-top">
            <h2>
                <a href="form"> Graj dalej! </a>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="end"> Koniec gry </a>
            </h2>
        </div>
    </div>


    <div id="footer">
        <a href="newgame"> Nowa Gra </a> &nbsp;&nbsp; | &nbsp;&nbsp;
        <a href="saved"> Wczytaj grę </a> &nbsp;&nbsp; | &nbsp;&nbsp;
        <a href="/geoquiz"> Strona Główna </a> &nbsp;&nbsp; | &nbsp;&nbsp;
        <a href="../funfact/all"> Ciekawostki </a> &nbsp;&nbsp; | &nbsp;&nbsp;
        <a href="end"> Koniec </a>

    </div>


</div>
</body>